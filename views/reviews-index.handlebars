<!-- reviews-index.handlebars -->

<h1>Projects</h1>

<a href="/reviews/new">New Review</a>
<a href="/">Back to Home</a>

<h1>{{Reviews}}</h1>
{{#each reviews}}
  <a href="/reviews/{{this._id}}">
    <h1>{{review.title}}</h1>
    <h5>{{review.movieTitle}}</h5>
    <p>{{review.description}}</p>
  </a>
  <a href="/reviews/{{this._id}}/edit">Edit</a>
{{/each}}

<!-- Option for New Review -->
<legend>New Review</legend>
<form action="/reviews" method="POST">
  <!-- TITLE -->
  <p>
    <label for="title">Title</label><br>
    <input type="text" name="title" />
  </p>

  <!-- MOVIE TITLE -->
  <p>
    <label for="movieTitle">Movie Title</label><br>
    <input type="text" name="movieTitle" />
  </p>

  <!-- LABEL -->
  <p>
    <label for="description">Description</label><br>
    <textarea name="description" rows="10"></textarea>
  </p>

  <!-- BUTTON -->
  <p>
    <button type="submit">Save Review</button>
  </p>
</form>

<!-- Option for Edit Review -->
<legend>Edit Review</legend>
<!-- HTML forms cannot naturally take PUT action requests, so we must teach them -->
<form method="POST" action="/reviews/{{reviews._id}}?_method=PUT">
  <!-- TITLE -->
  <p>
    <label for="title">Title</label><br>
    <input type="text" name="title" value="{{review.title}}"/>
  </p>

  <!-- MOVIE TITLE -->
  <p>
    <label for="movieTitle">Movie Title</label><br>
    <input type="text" name="movieTitle" value="{{review.movieTitle}}"/>
  </p>

  <!-- DESCRIPTION -->
  <p>
    <label for="description">Description</label>
    <textarea name="description" rows="10">{{review.description}}</textarea>
  </p>

  <!-- BUTTON -->
  <p>
    <button type="submit" >Save Review</button>
  </p>
</form>
